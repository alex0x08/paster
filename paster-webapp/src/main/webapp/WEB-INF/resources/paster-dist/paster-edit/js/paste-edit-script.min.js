var WordCount=new Class({Implements:[Events,Options],options:{countWordsTo:null,countSymbolsTo:null,inputName:null,countWords:!0,countChars:!0,charText:"characters",wordText:"words",separator:", ",liveCount:!1,eventTrigger:"keyup"},initialize:function(f,k){this.setOptions(k);this.target=$(f);if(this.options.liveCount&&this.options.inputName){var n=$(document.body).getElement("[name\x3d"+this.options.inputName+"]");n.addEvent(this.options.eventTrigger,function(){this.getCount(n.get("value"))}.bind(this))}},
getCount:function(f){var k=f.length;f=0!=k?f.clean().split(" ").length:0;null!=this.options.countWordsTo&&this.options.countWordsTo.set("value",f);null!=this.options.countSymbolsTo&&this.options.countSymbolsTo.set("value",k);(k=this.options.countWords&&this.options.countChars?f+" "+this.options.wordText+this.options.separator+k+" "+this.options.charText:this.options.countWords?f+" "+this.options.wordText:k+" "+this.options.charText)&&this.target.set("html",k)}});
(function(){function f(f){var k,l,p,a,d,c;p=f.length;l=0;for(k="";l<p;){a=f.charCodeAt(l++)&255;if(l==p){k+=n.charAt(a>>2);k+=n.charAt((a&3)<<4);k+="\x3d\x3d";break}d=f.charCodeAt(l++);if(l==p){k+=n.charAt(a>>2);k+=n.charAt((a&3)<<4|(d&240)>>4);k+=n.charAt((d&15)<<2);k+="\x3d";break}c=f.charCodeAt(l++);k+=n.charAt(a>>2);k+=n.charAt((a&3)<<4|(d&240)>>4);k+=n.charAt((d&15)<<2|(c&192)>>6);k+=n.charAt(c&63)}return k}function k(f){var k,l,n,a,d;a=f.length;n=0;for(d="";n<a;){do k=p[f.charCodeAt(n++)&255];
while(n<a&&-1==k);if(-1==k)break;do l=p[f.charCodeAt(n++)&255];while(n<a&&-1==l);if(-1==l)break;d+=String.fromCharCode(k<<2|(l&48)>>4);do{k=f.charCodeAt(n++)&255;if(61==k)return d;k=p[k]}while(n<a&&-1==k);if(-1==k)break;d+=String.fromCharCode((l&15)<<4|(k&60)>>2);do{l=f.charCodeAt(n++)&255;if(61==l)return d;l=p[l]}while(n<a&&-1==l);if(-1==l)break;d+=String.fromCharCode((k&3)<<6|l)}return d}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];window.btoa||(window.btoa=f);window.atob||(window.atob=k)})();
(function(f,k,n){function p(a){l.logging&&f.console&&f.console.log&&f.console.log(a)}function q(a,d,c,b,g,e){d=l.Util.getCSS(d,a,g);var m;1===d.length&&(g=d[0],d=[],d[0]=g,d[1]=g);-1!==d[0].toString().indexOf("%")?(m=parseFloat(d[0])/100,g=c.width*m,"backgroundSize"!==a&&(g-=(e||b).width*m)):g="backgroundSize"===a?"auto"===d[0]?b.width:d[0].match(/contain|cover/)?l.Util.resizeBounds(b.width,b.height,c.width,c.height,d[0]).width:parseInt(d[0],10):parseInt(d[0],10);"auto"===d[1]?c=g/b.width*b.height:
-1!==d[1].toString().indexOf("%")?(m=parseFloat(d[1])/100,c=c.height*m,"backgroundSize"!==a&&(c-=(e||b).height*m)):c=parseInt(d[1],10);return[g,c]}function t(a,d){var c=[];return{storage:c,width:a,height:d,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},
restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var b=[];c.push({type:"function",name:"drawShape",arguments:b});return{moveTo:function(){b.push({name:"moveTo",arguments:arguments})},lineTo:function(){b.push({name:"lineTo",arguments:arguments})},arcTo:function(){b.push({name:"arcTo",
arguments:arguments})},bezierCurveTo:function(){b.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){b.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(b,a){c.push({type:"variable",name:b,arguments:a})}}}var l={},x;l.Util={};l.Util.trimText=function(a){return function(d){return a?
a.apply(d):((d||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim);l.Util.parseBackgroundImage=function(a){var d,c,b,g,e,m=[],f,l=0,h=0,k,p,n=function(){d&&('"'===c.substr(0,1)&&(c=c.substr(1,c.length-2)),c&&p.push(c),"-"===d.substr(0,1)&&0<(g=d.indexOf("-",1)+1)&&(b=d.substr(0,g),d=d.substr(g)),m.push({prefix:b,method:d.toLowerCase(),value:e,args:p}));p=[];d=b=c=e=""};n();for(var q=0,t=a.length;q<t;q++)if(f=a[q],!(0===l&&-1<" \r\n\t".indexOf(f))){switch(f){case '"':k?k===f&&(k=null):k=f;break;
case "(":if(k)break;else if(0===l){l=1;e+=f;continue}else h++;break;case ")":if(k)break;else if(1===l)if(0===h){l=0;e+=f;n();continue}else h--;break;case ",":if(!k)if(0===l){n();continue}else if(1===l&&0===h&&!d.match(/^url$/i)){p.push(c);c="";e+=f;continue}}e+=f;0===l?d+=f:c+=f}n();return m};l.Util.Bounds=function(a){var d={};if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),d.top=a.top,d.bottom=a.bottom||a.top+a.height,d.left=a.left,d.width=a.width||a.right-a.left,d.height=a.height||
a.bottom-a.top,d};l.Util.getCSS=function(a,d,c){function b(b,d){var c=a.runtimeStyle&&a.runtimeStyle[b],g,e=a.style;!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(d)&&/^-?\d/.test(d)&&(g=e.left,c&&(a.runtimeStyle.left=a.currentStyle.left),e.left="fontSize"===b?"1em":d||0,d=e.pixelLeft+"px",e.left=g,c&&(a.runtimeStyle.left=c));return/^(thin|medium|thick)$/i.test(d)?d:Math.round(parseFloat(d))+"px"}var g,e=d.match(/^background(Size|Position)$/);void 0!==a&&(x=k.defaultView.getComputedStyle(a,null));g=x[d];if(e){if(g=
(g||"").split(","),g=g[c||0]||g[0]||"auto",g=l.Util.trimText(g).split(" "),"backgroundSize"!==d||g[0]&&!g[0].match(/cover|contain|auto/)){g[0]=-1===g[0].indexOf("%")?b(d+"X",g[0]):g[0];if(void 0===g[1]){if("backgroundSize"===d)return g[1]="auto",g;g[1]=g[0]}g[1]=-1===g[1].indexOf("%")?b(d+"Y",g[1]):g[1]}}else/border(Top|Bottom)(Left|Right)Radius/.test(d)&&(d=g.split(" "),1>=d.length&&(d[1]=d[0]),d[0]=parseInt(d[0],10),d[1]=parseInt(d[1],10),g=d);return g};l.Util.resizeBounds=function(a,d,c,b,g){a/=
d;g&&"auto"!==g?c/b<a^"contain"===g?(c=b,g=b*a):(g=c,c/=a):(g=c,c=b);return{width:g,height:c}};l.Util.BackgroundPosition=function(a,d,c,b,g){a=q("backgroundPosition",a,d,c,b,g);return{left:a[0],top:a[1]}};l.Util.BackgroundSize=function(a,d,c,b){a=q("backgroundSize",a,d,c,b);return{width:a[0],height:a[1]}};l.Util.Extend=function(a,d){for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d};l.Util.Children=function(a){var d;try{var c;if(a.nodeName&&"IFRAME"===a.nodeName.toUpperCase())c=a.contentDocument||
a.contentWindow.document;else{var b=a.childNodes;a=[];if(null!==b){var g=a.length,e=0;if("number"===typeof b.length)for(var m=b.length;e<m;e++)a[g++]=b[e];else for(;void 0!==b[e];)a[g++]=b[e++];a.length=g}c=a}d=c}catch(f){p("html2canvas.Util.Children failed with exception: "+f.message),d=[]}return d};l.Util.Font=function(){var a={};return function(d,c,b){if(void 0!==a[d+"-"+c])return a[d+"-"+c];var g=b.createElement("div"),e=b.createElement("img"),m=b.createElement("span"),f;g.style.visibility="hidden";
g.style.fontFamily=d;g.style.fontSize=c;g.style.margin=0;g.style.padding=0;b.body.appendChild(g);e.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs\x3d";e.width=1;e.height=1;e.style.margin=0;e.style.padding=0;e.style.verticalAlign="baseline";m.style.fontFamily=d;m.style.fontSize=c;m.style.margin=0;m.style.padding=0;m.appendChild(b.createTextNode("Hidden Text"));g.appendChild(m);g.appendChild(e);f=e.offsetTop-m.offsetTop+1;g.removeChild(m);g.appendChild(b.createTextNode("Hidden Text"));
g.style.lineHeight="normal";e.style.verticalAlign="super";e={baseline:f,lineWidth:1,middle:e.offsetTop-g.offsetTop+1};a[d+"-"+c]=e;b.body.removeChild(g);return e}}();(function(){l.Generate={};var a=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,
/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];l.Generate.parseGradient=function(d,c){var b,g,e=a.length,m,f,l,h;for(g=0;g<e&&!(m=d.match(a[g]));g+=1);if(m)switch(m[1]){case "-webkit-linear-gradient":case "-o-linear-gradient":b={type:"linear",x0:null,
y0:null,x1:null,y1:null,colorStops:[]};if(e=m[2].match(/\w+/g))for(f=e.length,g=0;g<f;g+=1)switch(e[g]){case "top":b.y0=0;b.y1=c.height;break;case "right":b.x0=c.width;b.x1=0;break;case "bottom":b.y0=c.height;b.y1=0;break;case "left":b.x0=0,b.x1=c.width}null===b.x0&&null===b.x1&&(b.x0=b.x1=c.width/2);null===b.y0&&null===b.y1&&(b.y0=b.y1=c.height/2);if(e=m[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(f=e.length,l=1/Math.max(f-1,1),g=0;g<f;g+=
1)h=e[g].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(m=parseFloat(h[2]),m="%"===h[3]?m/100:m/c.width):m=g*l,b.colorStops.push({color:h[1],stop:m});break;case "-webkit-gradient":b={type:"radial"===m[2]?"circle":m[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]};if(e=m[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))b.x0=e[1]*c.width/100,b.y0=e[2]*c.height/100,b.x1=e[3]*c.width/100,b.y1=e[4]*c.height/100;if(e=m[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(f=
e.length,g=0;g<f;g+=1)h=e[g].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),m=parseFloat(h[2]),"from"===h[1]&&(m=0),"to"===h[1]&&(m=1),b.colorStops.push({color:h[3],stop:m});break;case "-moz-linear-gradient":b={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]};if(e=m[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))b.x0=e[1]*c.width/100,b.y0=e[2]*c.height/100,b.x1=c.width-b.x0,b.y1=c.height-b.y0;if(e=m[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(f=
e.length,l=1/Math.max(f-1,1),g=0;g<f;g+=1)h=e[g].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),h[2]?(m=parseFloat(h[2]),h[3]&&(m/=100)):m=g*l,b.colorStops.push({color:h[1],stop:m});break;case "-webkit-radial-gradient":case "-moz-radial-gradient":case "-o-radial-gradient":b={type:"circle",x0:0,y0:0,x1:c.width,y1:c.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]};if(e=m[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))b.cx=e[1]*c.width/100,b.cy=e[2]*c.height/100;e=m[3].match(/\w+/);
h=m[4].match(/[a-z\-]*/);if(e&&h)switch(h[0]){case "farthest-corner":case "cover":case "":g=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,2));e=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));f=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));h=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.max(g,e,f,h);break;case "closest-corner":g=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,2));e=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));f=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-
b.cy,2));h=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.min(g,e,f,h);break;case "farthest-side":"circle"===e[0]?b.rx=b.ry=Math.max(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=e[0],b.rx=Math.max(b.cx,b.x1-b.cx),b.ry=Math.max(b.cy,b.y1-b.cy));break;case "closest-side":case "contain":"circle"===e[0]?b.rx=b.ry=Math.min(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=e[0],b.rx=Math.min(b.cx,b.x1-b.cx),b.ry=Math.min(b.cy,b.y1-b.cy))}if(e=m[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(f=
e.length,l=1/Math.max(f-1,1),g=0;g<f;g+=1)h=e[g].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(m=parseFloat(h[2]),m="%"===h[3]?m/100:m/c.width):m=g*l,b.colorStops.push({color:h[1],stop:m})}return b};l.Generate.Gradient=function(a,c){if(0!==c.width&&0!==c.height){var b=k.createElement("canvas"),g=b.getContext("2d"),e,f,n,z;b.width=c.width;b.height=c.height;if(e=l.Generate.parseGradient(a,c))if("linear"===e.type){f=g.createLinearGradient(e.x0,e.y0,
e.x1,e.y1);n=0;for(z=e.colorStops.length;n<z;n+=1)try{f.addColorStop(e.colorStops[n].stop,e.colorStops[n].color)}catch(h){p(["failed to add color stop: ",h,"; tried to add: ",e.colorStops[n],"; stop: ",n,"; in: ",a])}g.fillStyle=f;g.fillRect(0,0,c.width,c.height)}else if("circle"===e.type){f=g.createRadialGradient(e.cx,e.cy,0,e.cx,e.cy,e.rx);n=0;for(z=e.colorStops.length;n<z;n+=1)try{f.addColorStop(e.colorStops[n].stop,e.colorStops[n].color)}catch(w){p(["failed to add color stop: ",w,"; tried to add: ",
e.colorStops[n],"; stop: ",n,"; in: ",a])}g.fillStyle=f;g.fillRect(0,0,c.width,c.height)}else if("ellipse"===e.type){var r=k.createElement("canvas"),q=r.getContext("2d");f=Math.max(e.rx,e.ry);var A=2*f;r.width=r.height=A;f=q.createRadialGradient(e.rx,e.ry,0,e.rx,e.ry,f);n=0;for(z=e.colorStops.length;n<z;n+=1)try{f.addColorStop(e.colorStops[n].stop,e.colorStops[n].color)}catch(t){p(["failed to add color stop: ",t,"; tried to add: ",e.colorStops[n],"; stop: ",n,"; in: ",a])}q.fillStyle=f;q.fillRect(0,
0,A,A);g.fillStyle=e.colorStops[n-1].color;g.fillRect(0,0,b.width,b.height);g.drawImage(r,e.cx-e.rx,e.cy-e.ry,2*e.rx,2*e.ry)}return b}};l.Generate.ListAlpha=function(a){var c="",b;do b=a%26,c=String.fromCharCode(b+64)+c,a/=26;while(26<26*a);return c};l.Generate.ListRoman=function(a){var c="M CM D CD C XC L XL X IX V IV I".split(" "),b=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],g="",e,f=c.length;if(0>=a||4E3<=a)return a;for(e=0;e<f;e+=1)for(;a>=b[e];)a-=b[e],g+=c[e];return g}})();l.Parse=function(a,
d){function c(){return Math.max(Math.max(v.body.scrollWidth,v.documentElement.scrollWidth),Math.max(v.body.offsetWidth,v.documentElement.offsetWidth),Math.max(v.body.clientWidth,v.documentElement.clientWidth))}function b(){return Math.max(Math.max(v.body.scrollHeight,v.documentElement.scrollHeight),Math.max(v.body.offsetHeight,v.documentElement.offsetHeight),Math.max(v.body.clientHeight,v.documentElement.clientHeight))}function g(b,a){var d=parseInt(u(b,a),10);return isNaN(d)?0:d}function e(b,a,d,
c,e,g){"transparent"!==g&&(b.setVariable("fillStyle",g),b.fillRect(a,d,c,e))}function m(b,a){switch(a){case "lowercase":return b.toLowerCase();case "capitalize":return b.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(b,a,d){if(0<b.length)return a+d.toUpperCase()});case "uppercase":return b.toUpperCase();default:return b}}function n(b){return/^(normal|none|0px)$/.test(b)}function z(b,a,d,c){var e=u(a,"fontWeight"),g=u(a,"fontFamily"),f=u(a,"fontSize");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e=
"normal"}b.setVariable("fillStyle",c);b.setVariable("font",[u(a,"fontStyle"),u(a,"fontVariant"),e,f,g].join(" "));b.setVariable("textAlign","left");if("none"!==d)return l.Util.Font(g,f,v)}function h(b,a,c){var g=c.ctx,f=u(b,"color"),h=u(b,"textDecoration");c=u(b,"textAlign");var k,J,p=a,C=0;0<l.Util.trimText(a.nodeValue).length&&(a.nodeValue=m(a.nodeValue,u(b,"textTransform")),c=c.replace(["-webkit-auto"],["auto"]),J=!d.letterRendering&&/^(left|right|justify|auto)$/.test(c)&&n(u(b,"letterSpacing"))?
a.nodeValue.split(/(\b| )/):a.nodeValue.split(""),k=z(g,b,h,f),d.chinese&&J.forEach(function(b,a){/.*[\u4E00-\u9FA5].*$/.test(b)&&(b=b.split(""),b.unshift(a,1),J.splice.apply(J,b))}),J.forEach(function(b,a){var d;d=a<J.length-1;var c;if(T.rangeBounds){if("none"!==h||0!==l.Util.trimText(b).length){d=p;c=C;var B=v.createRange();B.setStart(d,c);B.setEnd(d,c+b.length);c=B.getBoundingClientRect()}C+=b.length}else if(p&&"string"===typeof p.nodeValue){d=d?p.splitText(b.length):null;var I=p;c=I.parentNode;
var B=v.createElement("wrapper"),m=I.cloneNode(!0);B.appendChild(I.cloneNode(!0));c.replaceChild(B,I);I=l.Util.Bounds(B);c.replaceChild(m,B);c=I;p=d}if(d=c)switch(c=d.left,B=d.bottom,null!==b&&0<l.Util.trimText(b).length&&g.fillText(b,c,B),h){case "underline":e(g,d.left,Math.round(d.top+k.baseline+k.lineWidth),d.width,1,f);break;case "overline":e(g,d.left,Math.round(d.top),d.width,1,f);break;case "line-through":e(g,d.left,Math.ceil(d.top+k.middle+k.lineWidth),d.width,1,f)}}))}function w(b,a,d){var c;
a=a.ctx;var g=u(b,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(g)){var e;e=-1;var f=1,h=b.parentNode.childNodes;if(b.parentNode){for(;h[++e]!==b;)1===h[e].nodeType&&f++;e=f}else e=-1;switch(g){case "decimal":c=e;break;case "decimal-leading-zero":c=1===e.toString().length?"0"+e.toString():e.toString();break;case "upper-roman":c=l.Generate.ListRoman(e);break;case "lower-roman":c=l.Generate.ListRoman(e).toLowerCase();
break;case "lower-alpha":c=l.Generate.ListAlpha(e).toLowerCase();break;case "upper-alpha":c=l.Generate.ListAlpha(e)}c+=". ";e=v.createElement("boundelement");e.style.display="inline";f=b.style.listStyleType;b.style.listStyleType="none";e.appendChild(v.createTextNode(c));b.insertBefore(e,b.firstChild);g=l.Util.Bounds(e);b.removeChild(e);b.style.listStyleType=f;z(a,b,"none",u(b,"color"));"inside"===u(b,"listStylePosition")&&(a.setVariable("textAlign","left"),b=d.left,d=g.bottom,null!==c&&0<l.Util.trimText(c).length&&
a.fillText(c,b,d))}}function q(b){return(b=a[b])&&!0===b.succeeded?b.img:!1}function D(b,a){var d=Math.max(b.left,a.left),c=Math.max(b.top,a.top),e=Math.min(b.left+b.width,a.left+a.width),g=Math.min(b.top+b.height,a.top+a.height);return{left:d,top:c,width:e-d,height:g-c}}function A(b,a,d,c,e){var f=g(a,"paddingLeft"),h=g(a,"paddingTop"),m=g(a,"paddingRight");a=g(a,"paddingBottom");E(b,d,0,0,d.width,d.height,c.left+f+e[3].width,c.top+h+e[0].width,c.width-(e[1].width+e[3].width+f+m),c.height-(e[0].width+
e[2].width+h+a))}function x(b){return["Top","Right","Bottom","Left"].map(function(a){return{width:g(b,"border"+a+"Width"),color:u(b,"border"+a+"Color")}})}function X(b){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(a){return u(b,"border"+a+"Radius")})}function F(b,a,d,c){var e=function(b,a,d){return{x:b.x+(a.x-b.x)*d,y:b.y+(a.y-b.y)*d}};return{start:b,startControl:a,endControl:d,end:c,subdivide:function(g){var f=e(b,a,g),h=e(a,d,g),m=e(d,c,g),l=e(f,h,g),h=e(h,m,g);g=e(l,h,g);
return[F(b,f,l,g),F(g,h,m,c)]},curveTo:function(b){b.push(["bezierCurve",a.x,a.y,d.x,d.y,c.x,c.y])},curveToReversed:function(c){c.push(["bezierCurve",d.x,d.y,a.x,a.y,b.x,b.y])}}}function y(b,a,d,c,e,g,f){0<a[0]||0<a[1]?(b.push(["line",c[0].start.x,c[0].start.y]),c[0].curveTo(b),c[1].curveTo(b)):b.push(["line",g,f]);(0<d[0]||0<d[1])&&b.push(["line",e[0].start.x,e[0].start.y])}function K(b,a,d,c,e,g,f){var h=[];0<a[0]||0<a[1]?(h.push(["line",c[1].start.x,c[1].start.y]),c[1].curveTo(h)):h.push(["line",
b.c1[0],b.c1[1]]);0<d[0]||0<d[1]?(h.push(["line",g[0].start.x,g[0].start.y]),g[0].curveTo(h),h.push(["line",f[0].end.x,f[0].end.y]),f[0].curveToReversed(h)):(h.push(["line",b.c2[0],b.c2[1]]),h.push(["line",b.c3[0],b.c3[1]]));0<a[0]||0<a[1]?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",b.c4[0],b.c4[1]]);return h}function L(b,a,d){var c,e,g,f,h,m,l,k,n=a.left,z=a.top,p=a.width,C=a.height,s,w,q,E,r=X(b);k=a.left;s=a.top;m=a.width;l=a.height;e=r[0][0];g=r[0][1];f=r[1][0];
h=r[1][1];var P=r[2][0],A=r[2][1];w=r[3][0];q=r[3][1];var v=m-f,M=l-P,t=m-A,D=l-q;c=G(k,s,e,g).topLeft.subdivide(0.5);e=G(k+d[3].width,s+d[0].width,Math.max(0,e-d[3].width),Math.max(0,g-d[0].width)).topLeft.subdivide(0.5);g=G(k+v,s,f,h).topRight.subdivide(0.5);f=G(k+Math.min(v,m+d[3].width),s+d[0].width,v>m+d[3].width?0:f-d[3].width,h-d[0].width).topRight.subdivide(0.5);h=G(k+t,s+M,A,P).bottomRight.subdivide(0.5);m=G(k+Math.min(t,m+d[3].width),s+Math.min(M,l+d[0].width),Math.max(0,A-d[1].width),Math.max(0,
P-d[2].width)).bottomRight.subdivide(0.5);l=G(k,s+D,w,q).bottomLeft.subdivide(0.5);k=G(k+d[3].width,s+D,Math.max(0,w-d[3].width),Math.max(0,q-d[2].width)).bottomLeft.subdivide(0.5);s=[];switch(u(b,"backgroundClip")){case "content-box":case "padding-box":y(s,r[0],r[1],e,f,a.left+d[3].width,a.top+d[0].width);y(s,r[1],r[2],f,m,a.left+a.width-d[1].width,a.top+d[0].width);y(s,r[2],r[3],m,k,a.left+a.width-d[1].width,a.top+a.height-d[2].width);y(s,r[3],r[0],k,e,a.left+d[3].width,a.top+a.height-d[2].width);
break;default:y(s,r[0],r[1],c,g,a.left,a.top),y(s,r[1],r[2],g,h,a.left+a.width,a.top),y(s,r[2],r[3],h,l,a.left+a.width,a.top+a.height),y(s,r[3],r[0],l,c,a.left,a.top+a.height)}D={clip:s,borders:[]};for(b=0;4>b;b++)if(0<d[b].width){a=n;s=z;w=p;q=C-d[2].width;switch(b){case 0:q=d[0].width;E=K({c1:[a,s],c2:[a+w,s],c3:[a+w-d[1].width,s+q],c4:[a+d[3].width,s+q]},r[0],r[1],c,e,g,f);break;case 1:a=n+p-d[1].width;w=d[1].width;E=K({c1:[a+w,s],c2:[a+w,s+q+d[2].width],c3:[a,s+q],c4:[a,s+d[0].width]},r[1],r[2],
g,f,h,m);break;case 2:s=s+C-d[2].width;q=d[2].width;E=K({c1:[a+w,s+q],c2:[a,s+q],c3:[a+d[3].width,s],c4:[a+w-d[2].width,s]},r[2],r[3],h,m,l,k);break;case 3:w=d[3].width,E=K({c1:[a,s+q+d[2].width],c2:[a,s],c3:[a+w,s+d[0].width],c4:[a+w,s+q]},r[3],r[0],l,k,c,e)}D.borders.push({args:E,color:d[b].color})}return D}function C(a,b){var d=a.drawShape();b.forEach(function(a,b){d[0===b?"moveTo":a[0]+"To"].apply(null,a.slice(1))});return d}function s(a,b,d){var c=v.createElement("valuewrap");"lineHeight textAlign fontFamily color fontSize paddingLeft paddingTop width height border borderLeftWidth borderTopWidth".split(" ").forEach(function(b){try{c.style[b]=
u(a,b)}catch(d){p("html2canvas: Parse: Exception caught in renderFormValue: "+d.message)}});c.style.borderColor="black";c.style.borderStyle="solid";c.style.display="block";c.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===a.nodeName)c.style.lineHeight=u(a,"height");c.style.top=b.top+"px";c.style.left=b.left+"px";b="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value;b||(b=a.placeholder);b=v.createTextNode(b);c.appendChild(b);N.appendChild(c);
h(a,b,d);N.removeChild(c)}function E(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1))}function M(a,b){var d=f.getComputedStyle(a,b);if(d&&d.content&&"none"!==d.content&&"-moz-alt-content"!==d.content){var c=d.content+"",e=c.substr(0,1);e===c.substr(c.length-1)&&e.match(/'|"/)&&(c=c.substr(1,c.length-2));var e="url"===c.substr(0,3),g=k.createElement(e?"img":"span");g.className=H+"-before "+H+"-after";Object.keys(d).filter(Y).forEach(function(a){try{g.style[a]=d[a]}catch(b){p(["Tried to assign readonly property ",
a,"Error:",b])}});e?g.src=l.Util.parseBackgroundImage(c)[0].args[0]:g.innerHTML=c;return g}}function Y(a){return isNaN(f.parseInt(a,10))}function Z(a,b){var d=M(a,":before"),c=M(a,":after");if(d||c)d&&(a.className+=" "+H+"-before",a.parentNode.insertBefore(d,a),O(d,b,!0),a.parentNode.removeChild(d),a.className=a.className.replace(H+"-before","").trim()),c&&(a.className+=" "+H+"-after",a.appendChild(c),O(c,b,!0),a.removeChild(c),a.className=a.className.replace(H+"-after","").trim())}function U(a,b,
d,c){var e=Math.round(c.left+d.left);d=Math.round(c.top+d.top);a.createPattern(b);a.translate(e,d);a.fill();a.translate(-e,-d)}function Q(a,b,d,c,e,g,f,h){var m=[];m.push(["line",Math.round(e),Math.round(g)]);m.push(["line",Math.round(e+f),Math.round(g)]);m.push(["line",Math.round(e+f),Math.round(h+g)]);m.push(["line",Math.round(e),Math.round(h+g)]);C(a,m);a.save();a.clip();U(a,b,d,c);a.restore()}function aa(a,b,d,c,e){var g=l.Util.BackgroundSize(a,b,c,e),f=l.Util.BackgroundPosition(a,b,c,e,g);a=
u(a,"backgroundRepeat").split(",").map(function(a){return a.trim()});c=ba(c,g);a=a[e]||a[0];switch(a){case "repeat-x":Q(d,c,f,b,b.left,b.top+f.top,99999,c.height);break;case "repeat-y":Q(d,c,f,b,b.left+f.left,b.top,c.width,99999);break;case "no-repeat":Q(d,c,f,b,b.left+f.left,b.top+f.top,c.width,c.height);break;default:U(d,c,f,{top:b.top,left:b.left,width:c.width,height:c.height})}}function ca(a,b,d){for(var c=u(a,"backgroundImage"),e=l.Util.parseBackgroundImage(c),g,f=e.length;f--;)c=e[f],c.args&&
0!==c.args.length&&((g=q("url"===c.method?c.args[0]:c.value))?aa(a,b,d,g,f):p("html2canvas: Error loading background:",c))}function ba(a,b){if(a.width===b.width&&a.height===b.height)return a;var d,c=v.createElement("canvas");c.width=b.width;c.height=b.height;d=c.getContext("2d");E(d,a,0,0,a.width,a.height,0,0,b.width,b.height);return c}function da(a,e,g){var f=t(e?g.width:c(),e?g.height:b()),h;var m=u(a,"zIndex");(h=e?e.zIndex:null)?"auto"!==m&&(m={zindex:m,children:[]},h.children.push(m),h=m):h=
m={zindex:0,children:[]};m=u(a,"opacity")*(e?e.opacity:1);f.setVariable("globalAlpha",m);e={ctx:f,zIndex:h,opacity:m,cssPosition:u(a,"position"),borders:x(a),clip:e&&e.clip?l.Util.Extend({},e.clip):null};!0===d.useOverflow&&!0===/(hidden|scroll|auto)/.test(u(a,"overflow"))&&!1===/(BODY)/i.test(a.nodeName)&&(e.clip=e.clip?D(e.clip,g):g);e.zIndex.children.push(e);return e}function ea(a,b,d){a={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+
a[2].width)};d&&(a=D(a,d));return a}function V(a,b,d){var c=l.Util.Bounds(a),g,f=W.test(a.nodeName)?"#efefef":u(a,"backgroundColor");b=da(a,b,c);var h=b.borders,m=b.ctx,k=ea(h,c,b.clip),n=L(a,c,h);C(m,n.clip);m.save();m.clip();0<k.height&&0<k.width&&(e(m,c.left,c.top,c.width,c.height,f),ca(a,k,m));m.restore();n.borders.forEach(function(a){var b=a.args;a=a.color;"transparent"!==a&&(m.setVariable("fillStyle",a),C(m,b),m.fill())});d||Z(a,b);switch(a.nodeName){case "IMG":(g=q(a.getAttribute("src")))?
A(m,a,g,c,h):p("html2canvas: Error loading \x3cimg\x3e:"+a.getAttribute("src"));break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&0<(a.value||a.placeholder).length&&s(a,c,b);break;case "TEXTAREA":0<(a.value||a.placeholder||"").length&&s(a,c,b);break;case "SELECT":0<(a.options||a.placeholder||"").length&&s(a,c,b);break;case "LI":w(a,b,k);break;case "CANVAS":A(m,a,a,c,h)}return b}function O(a,b,d){"none"===u(a,"display")||"hidden"===u(a,"visibility")||a.hasAttribute("data-html2canvas-ignore")||
(b=V(a,b,d)||b,W.test(a.nodeName)||l.Util.Children(a).forEach(function(c){1===c.nodeType?O(c,b,d):3===c.nodeType&&h(a,c,b)}))}function fa(a,d){function e(a){a=l.Util.Children(a);var b=a.length,d,c,g,f,h;for(h=0;h<b;h+=1)if(f=a[h],3===f.nodeType)m+=f.nodeValue.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");else if(1===f.nodeType&&!/^(script|meta|title)$/.test(f.nodeName.toLowerCase())){m+="\x3c"+f.nodeName.toLowerCase();if(f.hasAttributes())for(d=f.attributes,g=d.length,c=0;c<g;c+=1)m+=" "+d[c].name+
'\x3d"'+d[c].value+'"';m+="\x3e";e(f);m+="\x3c/"+f.nodeName.toLowerCase()+"\x3e"}}var g=new Image,f=c(),h=b(),m="";e(a);g.src=["data:image/svg+xml,","\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' version\x3d'1.1' width\x3d'"+f+"' height\x3d'"+h+"'\x3e","\x3cforeignObject width\x3d'"+f+"' height\x3d'"+h+"'\x3e","\x3chtml xmlns\x3d'http://www.w3.org/1999/xhtml' style\x3d'margin:0;'\x3e",m.replace(/\#/g,"%23"),"\x3c/html\x3e\x3c/foreignObject\x3e\x3c/svg\x3e"].join("");g.onload=function(){d.svgRender=
g}}f.scroll(0,0);var R=void 0===d.elements?k.body:d.elements[0],v=R.ownerDocument,T=l.Util.Support(d,v),W=RegExp("("+d.ignoreElements+")"),N=v.body,u=l.Util.getCSS,H="___html2canvas___pseudoelement",S=v.createElement("style");S.innerHTML="."+H+'-before:before { content: "" !important; display: none !important; }.'+H+'-after:after { content: "" !important; display: none !important; }';N.appendChild(S);a=a||{};var G=function(a){return function(b,d,c,e){var g=c*a,f=e*a;c=b+c;e=d+e;return{topLeft:F({x:b,
y:e},{x:b,y:e-f},{x:c-g,y:d},{x:c,y:d}),topRight:F({x:b,y:d},{x:b+g,y:d},{x:c,y:e-f},{x:c,y:e}),bottomRight:F({x:c,y:d},{x:c,y:d+f},{x:b+g,y:e},{x:b,y:e}),bottomLeft:F({x:c,y:e},{x:c-g,y:e},{x:b,y:d+f},{x:b,y:d})}}}(4*((Math.sqrt(2)-1)/3));return function(){var a=V(R,null);T.svgRendering&&fa(k.documentElement,a);Array.prototype.slice.call(R.children,0).forEach(function(b){O(b,a)});a.backgroundColor=u(k.documentElement,"backgroundColor");N.removeChild(S);return a}()};l.Preload=function(a){function d(){p("html2canvas: start: images: "+
h.numLoaded+" / "+h.numTotal+" (failed: "+h.numFailed+")");!h.firstRun&&h.numLoaded>=h.numTotal&&(p("Finished loading images: # "+h.numTotal+" (failed: "+h.numFailed+")"),"function"===typeof a.complete&&a.complete(h))}function c(b,c,e){var g,m=a.proxy,k;y.href=b;b=y.href;g="html2canvas_"+A++;e.callbackname=g;m=-1<m.indexOf("?")?m+"\x26":m+"?";m+="url\x3d"+encodeURIComponent(b)+"\x26callback\x3d"+g;k=t.createElement("script");f[g]=function(a){"error:"===a.substring(0,6)?(e.succeeded=!1,h.numLoaded++,
h.numFailed++,d()):(z(c,e),c.src=a);f[g]=void 0;try{delete f[g]}catch(b){}k.parentNode.removeChild(k);k=null;delete e.script;delete e.callbackname};k.setAttribute("type","text/javascript");k.setAttribute("src",m);e.script=k;f.document.body.appendChild(k)}function b(a,b){var d=f.getComputedStyle(a,b),c=d.content;"url"===c.substr(0,3)&&r.loadImage(l.Util.parseBackgroundImage(c)[0].args[0]);m(d.backgroundImage,a)}function g(a){b(a,":before");b(a,":after")}function e(a){return a&&a.method&&a.args&&0<
a.args.length}function m(a,b){var c;l.Util.parseBackgroundImage(a).filter(e).forEach(function(a){if("url"===a.method)r.loadImage(a.args[0]);else if(a.method.match(/\-?gradient$/)){void 0===c&&(c=l.Util.Bounds(b));a=a.value;var e=l.Generate.Gradient(a,c);void 0!==e&&(h[a]={img:e,succeeded:!0},h.numTotal++,h.numLoaded++,d())}})}function n(a){var b=!1;try{l.Util.Children(a).forEach(function(a){n(a)})}catch(c){}try{b=a.nodeType}catch(d){b=!1,p("html2canvas: failed to access some element's nodeType - Exception: "+
d.message)}if(1===b||void 0===b){g(a);try{m(l.Util.getCSS(a,"backgroundImage"),a)}catch(e){p("html2canvas: failed to get background-image - Exception: "+e.message)}m(a)}}function z(b,e){b.onload=function(){void 0!==e.timer&&f.clearTimeout(e.timer);h.numLoaded++;e.succeeded=!0;b.onerror=b.onload=null;d()};b.onerror=function(){if("anonymous"===b.crossOrigin&&(f.clearTimeout(e.timer),a.proxy)){var g=b.src;b=new Image;e.img=b;b.src=g;c(b.src,b,e);return}h.numLoaded++;h.numFailed++;e.succeeded=!1;b.onerror=
b.onload=null;d()}}var h={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},w,r,q,A=0;q=a.elements[0]||k.body;var t=q.ownerDocument,x=t.images,F=x.length,y=t.createElement("a"),K=function(a){return void 0!==a.crossOrigin}(new Image),L;y.href=f.location.href;w=y.protocol+y.host;r={loadImage:function(b){var d,e;b&&void 0===h[b]&&(d=new Image,b.match(/data:image\/.*;base64,/i)?(d.src=b.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),e=h[b]={img:d},h.numTotal++,z(d,e)):(y.href=b,y.href=y.href,y.protocol+y.host===
w||!0===a.allowTaint?(e=h[b]={img:d},h.numTotal++,z(d,e),d.src=b):K&&!a.allowTaint&&a.useCORS?(d.crossOrigin="anonymous",e=h[b]={img:d},h.numTotal++,z(d,e),d.src=b,d.customComplete=function(){if(this.img.complete)this.img.onerror();else this.timer=f.setTimeout(this.img.customComplete,100)}.bind(e),d.customComplete()):a.proxy&&(e=h[b]={img:d},h.numTotal++,c(b,d,e))))},cleanupDOM:function(b){var c,e;if(!h.cleanupDone){b&&"string"===typeof b?p("html2canvas: Cleanup because: "+b):p("html2canvas: Cleanup after timeout: "+
a.timeout+" ms.");for(e in h)if(h.hasOwnProperty(e)&&(c=h[e],"object"===typeof c&&c.callbackname&&void 0===c.succeeded)){f[c.callbackname]=void 0;try{delete f[c.callbackname]}catch(g){}c.script&&c.script.parentNode&&(c.script.setAttribute("src","about:blank"),c.script.parentNode.removeChild(c.script));h.numLoaded++;h.numFailed++;p("html2canvas: Cleaned up failed img: '"+e+"' Steps: "+h.numLoaded+" / "+h.numTotal)}void 0!==f.stop?f.stop():void 0!==k.execCommand&&k.execCommand("Stop",!1);void 0!==k.close&&
k.close();h.cleanupDone=!0;b&&"string"===typeof b||d()}},renderingDone:function(){L&&f.clearTimeout(L)}};0<a.timeout&&(L=f.setTimeout(r.cleanupDOM,a.timeout));p("html2canvas: Preload starts: finding background-images");h.firstRun=!0;n(q);p("html2canvas: Preload: Finding images");for(q=0;q<F;q+=1)r.loadImage(x[q].getAttribute("src"));h.firstRun=!1;p("html2canvas: Preload: Done.");h.numTotal===h.numLoaded&&d();return r};l.Renderer=function(a,d){return function(a){if("string"===typeof d.renderer&&void 0!==
l.Renderer[a])a=l.Renderer[a](d);else if("function"===typeof a)a=a(d);else throw Error("Unknown renderer");if("function"!==typeof a)throw Error("Invalid renderer defined");return a}(d.renderer)(a,d,k,function(a){var b=[],d=function(a){var c=[],f=[];a.children.forEach(function(a){a.children&&0<a.children.length?(c.push(a),f.push(a.zindex)):b.push(a)});f.sort(function(a,b){return a-b});f.forEach(function(a){var b;c.some(function(d,c){b=c;return d.zindex===a});d(c.splice(b,1)[0])})};d(a.zIndex);return b}(a),
l)};l.Util.Support=function(a,d){function c(){var a=new Image,c=d.createElement("canvas"),e=void 0===c.getContext?!1:c.getContext("2d");if(!1===e)return!1;c.width=c.height=10;a.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'10' height\x3d'10'\x3e\x3cforeignObject width\x3d'10' height\x3d'10'\x3e\x3cdiv xmlns\x3d'http://www.w3.org/1999/xhtml' style\x3d'width:10;height:10;'\x3esup\x3c/div\x3e\x3c/foreignObject\x3e\x3c/svg\x3e";try{e.drawImage(a,0,0),c.toDataURL()}catch(f){return!1}p("html2canvas: Parse: SVG powered rendering available");
return!0}return{rangeBounds:function(){var a,c,e=!1;d.createRange&&(a=d.createRange(),a.getBoundingClientRect&&(c=d.createElement("boundtest"),c.style.height="123px",c.style.display="block",d.body.appendChild(c),a.selectNode(c),a=a.getBoundingClientRect(),a=a.height,123===a&&(e=!0),d.body.removeChild(c)));return e}(),svgRendering:a.svgRendering&&c()}};f.html2canvas=function(a,d){a=a.length?a:[a];var c,b,g={logging:!1,elements:a,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,
ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"},g=l.Util.Extend(d,g);l.logging=g.logging;g.complete=function(a){if("function"!==typeof g.onpreloaded||!1!==g.onpreloaded(a))if(c=l.Parse(a,g),"function"!==typeof g.onparsed||!1!==g.onparsed(c))if(b=l.Renderer(c,g),"function"===typeof g.onrendered)g.onrendered(b)};f.setTimeout(function(){l.Preload(g)},0);return{render:function(a,b){return l.Renderer(a,l.Util.Extend(b,
g))},parse:function(a,b){return l.Parse(a,l.Util.Extend(b,g))},preload:function(a){return l.Preload(l.Util.Extend(a,g))},log:p}};f.html2canvas.log=p;f.html2canvas.Renderer={Canvas:void 0};l.Renderer.Canvas=function(a){function d(a,b){a.beginPath();b.forEach(function(b){a[b.name].apply(a,b.arguments)});a.closePath()}function c(c,h){switch(h.type){case "variable":c[h.name]=h.arguments;break;case "function":if("createPattern"===h.name){if(0<h.arguments[0].width&&0<h.arguments[0].height)try{c.fillStyle=
c.createPattern(h.arguments[0],"repeat")}catch(k){p("html2canvas: Renderer: Error creating pattern",k.message)}}else if("drawShape"===h.name)d(c,h.arguments);else if("drawImage"===h.name){if(0<h.arguments[8]&&0<h.arguments[7]){var l;if(!(l=!a.taintTest)&&(l=a.taintTest))a:{if(-1===g.indexOf(h.arguments[0].src)){f.drawImage(h.arguments[0],0,0);try{f.getImageData(0,0,1,1)}catch(n){e=b.createElement("canvas");f=e.getContext("2d");l=!1;break a}g.push(h.arguments[0].src)}l=!0}l&&c.drawImage.apply(c,h.arguments)}}else c[h.name].apply(c,
h.arguments)}}a=a||{};var b=k,g=[],e=k.createElement("canvas"),f=e.getContext("2d"),l=a.canvas||b.createElement("canvas");return function(a,b,d,e,g){var f=l.getContext("2d"),m,k;l.width=l.style.width=b.width||a.ctx.width;l.height=l.style.height=b.height||a.ctx.height;m=f.fillStyle;f.fillStyle="transparent"!==a.backgroundColor&&"rgba(0, 0, 0, 0)"!==a.backgroundColor||void 0===b.background?a.backgroundColor:b.background;f.fillRect(0,0,l.width,l.height);f.fillStyle=m;if(b.svgRendering&&void 0!==a.svgRender)f.drawImage(a.svgRender,
0,0);else for(m=0,k=e.length;m<k;m+=1)a=e.splice(0,1)[0],a.canvasPosition=a.canvasPosition||{},f.textBaseline="bottom",a.clip&&(f.save(),f.beginPath(),f.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),f.clip()),a.ctx.storage&&a.ctx.storage.forEach(c.bind(null,f)),a.clip&&f.restore();p("html2canvas: Renderer: Canvas renderer done - returning canvas obj");k=b.elements.length;return 1===k&&"object"===typeof b.elements[0]&&"BODY"!==b.elements[0].nodeName?(b=g.Util.Bounds(b.elements[0]),d=d.createElement("canvas"),
d.width=b.width,d.height=b.height,f=d.getContext("2d"),f.drawImage(l,b.left,b.top,b.width,b.height,0,0,b.width,b.height),l=null,d):l}}})(window,document);
var Canvas2Image=function(){var f=!1,k=document.createElement("canvas");k.getContext("2d")&&(f=!0);if(!f)return{saveAsBMP:function(){},saveAsPNG:function(){},saveAsJPEG:function(){}};var n=!!k.getContext("2d").getImageData,p=!!k.toDataURL,q=!!window.btoa,t=function(a){var d="";if("string"==typeof a)d=a;else for(var c=0;c<a.length;c++)d+=String.fromCharCode(a[c]);return btoa(d)},l=function(a){var d=document.createElement("img");d.src=a;return d},x=function(a,d,c){if(d&&c){var b=document.createElement("canvas");
b.width=d;b.height=c;b.style.width=d+"px";b.style.height=c+"px";b.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d,c);return b}return a};return{saveAsPNG:function(a,d,c,b){if(!p)return!1;a=x(a,c,b).toDataURL("image/png");if(d)return l(a);d=a.replace("image/png","image/octet-stream");document.location.href=d;return!0},saveAsJPEG:function(a,d,c,b){if(!p)return!1;a=x(a,c,b).toDataURL("image/jpeg");if(5!=a.indexOf("image/jpeg"))return!1;if(d)return l(a);d=a.replace("image/jpeg","image/octet-stream");
document.location.href=d;return!0},saveAsBMP:function(a,d,c,b){if(!n||!q)return!1;a=x(a,c,b);c=parseInt(a.width);b=parseInt(a.height);var g=a.getContext("2d").getImageData(0,0,c,b);a=[];c=g.width;var e=g.height;a.push(66);a.push(77);b=3*c*e+54;a.push(b%256);b=Math.floor(b/256);a.push(b%256);b=Math.floor(b/256);a.push(b%256);b=Math.floor(b/256);a.push(b%256);a.push(0);a.push(0);a.push(0);a.push(0);a.push(54);a.push(0);a.push(0);a.push(0);b=[];b.push(40);b.push(0);b.push(0);b.push(0);var f=c;b.push(f%
256);f=Math.floor(f/256);b.push(f%256);f=Math.floor(f/256);b.push(f%256);f=Math.floor(f/256);b.push(f%256);f=e;b.push(f%256);f=Math.floor(f/256);b.push(f%256);f=Math.floor(f/256);b.push(f%256);f=Math.floor(f/256);b.push(f%256);b.push(1);b.push(0);b.push(24);b.push(0);b.push(0);b.push(0);b.push(0);b.push(0);f=3*c*e;b.push(f%256);f=Math.floor(f/256);b.push(f%256);f=Math.floor(f/256);b.push(f%256);f=Math.floor(f/256);b.push(f%256);for(f=0;16>f;f++)b.push(0);var f=(4-3*c%4)%4,g=g.data,k="";do{for(var p=
4*c*(e-1),h="",w=0;w<c;w++)var r=4*w,h=h+String.fromCharCode(g[p+r+2]),h=h+String.fromCharCode(g[p+r+1]),h=h+String.fromCharCode(g[p+r]);for(p=0;p<f;p++)h+=String.fromCharCode(0);k+=h}while(--e);a=t(a.concat(b))+t(k);if(d)return l("data:image/bmp;base64,"+a);document.location.href="data:image/octet-stream;base64,"+a;return!0}}}();
(function(f){var k=f.HTMLCanvasElement&&f.HTMLCanvasElement.prototype,n;if(n=f.Blob)try{n=Boolean(new Blob)}catch(p){n=!1}var q=n;if(n=q)if(n=f.Uint8Array)try{n=100===(new Blob([new Uint8Array(100)])).size}catch(t){n=!1}var l=n,x=f.BlobBuilder||f.WebKitBlobBuilder||f.MozBlobBuilder||f.MSBlobBuilder,a=(q||x)&&f.atob&&f.ArrayBuffer&&f.Uint8Array&&function(a){var c,b,f,e;c=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]);b=new ArrayBuffer(c.length);f=new Uint8Array(b);
for(e=0;e<c.length;e+=1)f[e]=c.charCodeAt(e);a=a.split(",")[0].split(":")[1].split(";")[0];if(q)return new Blob([l?f:b],{type:a});f=new x;f.append(b);return f.getBlob(a)};f.HTMLCanvasElement&&!k.toBlob&&(k.mozGetAsFile?k.toBlob=function(d,c,b){b&&k.toDataURL&&a?d(a(this.toDataURL(c,b))):d(this.mozGetAsFile("blob",c))}:k.toDataURL&&a&&(k.toBlob=function(d,c,b){d(a(this.toDataURL(c,b)))}));"function"===typeof define&&define.amd?define(function(){return a}):f.dataURLtoBlob=a})(this);
var Pixastic=function(){function f(a,d,c){a.addEventListener?a.addEventListener(d,c,!1):a.attachEvent&&a.attachEvent("on"+d,c)}function k(a){var d=!1,c=function(){d||(d=!0,a())};document.write('\x3cscript defer src\x3d"//:" id\x3d"__onload_ie_pixastic__"\x3e\x3c/script\x3e');var b=document.getElementById("__onload_ie_pixastic__");b.onreadystatechange=function(){"complete"==b.readyState&&(b.parentNode.removeChild(b),c())};document.addEventListener&&document.addEventListener("DOMContentLoaded",c,!1);
f(window,"load",c)}function n(){for(var a=p("pixastic",null,"img"),d=p("pixastic",null,"canvas"),c=a.concat(d),b=0;b<c.length;b++)(function(){for(var a=c[b],d=[],f=a.className.split(" "),k=0;k<f.length;k++){var l=f[k];"pixastic-"==l.substring(0,9)&&(l=l.substring(9),""!=l&&d.push(l))}if(d.length)if("img"==a.tagName.toLowerCase())if(f=new Image,f.src=a.src,f.complete)for(f=0;f<d.length;f++)(k=Pixastic.applyAction(a,a,d[f],null))&&(a=k);else f.onload=function(){for(var b=0;b<d.length;b++){var c=Pixastic.applyAction(a,
a,d[b],null);c&&(a=c)}};else setTimeout(function(){for(var b=0;b<d.length;b++){var c=Pixastic.applyAction(a,a,d[b],null);c&&(a=c)}},1)})()}function p(a,d,c){var b=[];null==d&&(d=document);null==c&&(c="*");d=d.getElementsByTagName(c);c=d.length;a=RegExp("(^|\\s)"+a+"(\\s|$)");for(j=i=0;i<c;i++)a.test(d[i].className)&&(b[j]=d[i],j++);return b}function q(a,d){if(Pixastic.debug)try{switch(d){case "warn":console.warn("Pixastic:",a);break;case "error":console.error("Pixastic:",a);break;default:console.log("Pixastic:",
a)}}catch(c){}}"undefined"!=typeof pixastic_parseonload&&pixastic_parseonload&&k(n);var t=function(){var a=document.createElement("canvas"),d=!1;try{d=!("function"!=typeof a.getContext||!a.getContext("2d"))}catch(c){}return function(){return d}}(),l=function(){var a=document.createElement("canvas"),d=!1,c;try{"function"==typeof a.getContext&&(c=a.getContext("2d"))&&(d="function"==typeof c.getImageData)}catch(b){}return function(){return d}}(),x=function(){var a=!1,d=document.createElement("canvas");
if(t()&&l()){d.width=d.height=1;d=d.getContext("2d");d.fillStyle="rgb(255,0,0)";d.fillRect(0,0,1,1);var c=document.createElement("canvas");c.width=c.height=1;var b=c.getContext("2d");b.fillStyle="rgb(0,0,255)";b.fillRect(0,0,1,1);d.globalAlpha=0.5;d.drawImage(c,0,0);a=255!=d.getImageData(0,0,1,1).data[2]}return function(){return a}}();return{parseOnLoad:!1,debug:!1,applyAction:function(a,d,c,b){b=b||{};var f="canvas"==a.tagName.toLowerCase();if(f&&Pixastic.Client.isIE())return Pixastic.debug&&q("Tried to process a canvas element but browser is IE."),
!1;var e,k,l=!1;Pixastic.Client.hasCanvas()&&(l=!!b.resultCanvas,e=b.resultCanvas||document.createElement("canvas"),k=e.getContext("2d"));var n=a.offsetWidth,h=a.offsetHeight;f&&(n=a.width,h=a.height);if(0==n||0==h)if(null==a.parentNode){var p=a.style.position,r=a.style.left;a.style.position="absolute";a.style.left="-9999px";document.body.appendChild(a);n=a.offsetWidth;h=a.offsetHeight;document.body.removeChild(a);a.style.position=p;a.style.left=r}else{Pixastic.debug&&q("Image has 0 width and/or height.");
return}if(-1<c.indexOf("(")&&(p=c,c=p.substr(0,p.indexOf("(")),p=p.match(/\((.*?)\)/),p[1]))for(p=p[1].split(";"),r=0;r<p.length;r++)if(thisArg=p[r].split("\x3d"),2==thisArg.length)if("rect"==thisArg[0]){var t=thisArg[1].split(",");b[thisArg[0]]={left:parseInt(t[0],10)||0,top:parseInt(t[1],10)||0,width:parseInt(t[2],10)||0,height:parseInt(t[3],10)||0}}else b[thisArg[0]]=thisArg[1];b.rect?(b.rect.left=Math.round(b.rect.left),b.rect.top=Math.round(b.rect.top),b.rect.width=Math.round(b.rect.width),b.rect.height=
Math.round(b.rect.height)):b.rect={left:0,top:0,width:n,height:h};p=!1;Pixastic.Actions[c]&&"function"==typeof Pixastic.Actions[c].process&&(p=!0);if(!p)return Pixastic.debug&&q('Invalid action "'+c+'". Maybe file not included?'),!1;if(!Pixastic.Actions[c].checkSupport())return Pixastic.debug&&q('Action "'+c+'" not supported by this browser.'),!1;Pixastic.Client.hasCanvas()?(e!==a&&(e.width=n,e.height=h),l||(e.style.width=n+"px",e.style.height=h+"px"),k.drawImage(d,0,0,n,h),a.__pixastic_org_image?
(e.__pixastic_org_image=a.__pixastic_org_image,e.__pixastic_org_width=a.__pixastic_org_width,e.__pixastic_org_height=a.__pixastic_org_height):(e.__pixastic_org_image=a,e.__pixastic_org_width=n,e.__pixastic_org_height=h)):Pixastic.Client.isIE()&&"undefined"==typeof a.__pixastic_org_style&&(a.__pixastic_org_style=a.style.cssText);d={image:a,canvas:e,width:n,height:h,useData:!0,options:b};return Pixastic.Actions[c].process(d)?Pixastic.Client.hasCanvas()?(d.useData&&Pixastic.Client.hasCanvasImageData()&&
(e.getContext("2d").putImageData(d.canvasData,b.rect.left,b.rect.top),e.getContext("2d").fillRect(0,0,0,0)),b.leaveDOM||(e.title=a.title,e.imgsrc=a.imgsrc,f||(e.alt=a.alt),f||(e.imgsrc=a.src),e.className=a.className,e.style.cssText=a.style.cssText,e.name=a.name,e.tabIndex=a.tabIndex,e.id=a.id,a.parentNode&&a.parentNode.replaceChild&&a.parentNode.replaceChild(e,a)),b.resultCanvas=e):a:!1},prepareData:function(a,d){var c=a.canvas.getContext("2d"),b=a.options.rect,c=c.getImageData(b.left,b.top,b.width,
b.height),b=c.data;d||(a.canvasData=c);return b},process:function(a,d,c,b){if("img"==a.tagName.toLowerCase()){var f=new Image;f.src=a.src;if(f.complete){var e=Pixastic.applyAction(a,f,d,c);b&&b(e);return e}f.onload=function(){var e=Pixastic.applyAction(a,f,d,c);b&&b(e)}}if("canvas"==a.tagName.toLowerCase())return e=Pixastic.applyAction(a,a,d,c),b&&b(e),e},revert:function(a){if(Pixastic.Client.hasCanvas()){if("canvas"==a.tagName.toLowerCase()&&a.__pixastic_org_image)return a.width=a.__pixastic_org_width,
a.height=a.__pixastic_org_height,a.getContext("2d").drawImage(a.__pixastic_org_image,0,0),a.parentNode&&a.parentNode.replaceChild&&a.parentNode.replaceChild(a.__pixastic_org_image,a),a}else Pixastic.Client.isIE()&&"undefined"!=typeof a.__pixastic_org_style&&(a.style.cssText=a.__pixastic_org_style)},Client:{hasCanvas:t,hasCanvasImageData:l,hasGlobalAlpha:x,isIE:function(){return!!document.all&&!!window.attachEvent&&!window.opera}},Actions:{}}}();
Pixastic.Actions.crop={process:function(f){if(Pixastic.Client.hasCanvas()){var k=f.options.rect,n=k.width,p=k.height,q=k.top,k=k.left;"undefined"!=typeof f.options.left&&(k=parseInt(f.options.left,10));"undefined"!=typeof f.options.top&&(q=parseInt(f.options.top,10));"undefined"!=typeof f.options.height&&(n=parseInt(f.options.width,10));"undefined"!=typeof f.options.height&&(p=parseInt(f.options.height,10));0>k&&(k=0);k>f.width-1&&(k=f.width-1);0>q&&(q=0);q>f.height-1&&(q=f.height-1);1>n&&(n=1);k+
n>f.width&&(n=f.width-k);1>p&&(p=1);q+p>f.height&&(p=f.height-q);var t=document.createElement("canvas");t.width=f.width;t.height=f.height;t.getContext("2d").drawImage(f.canvas,0,0);f.canvas.width=n;f.canvas.height=p;f.canvas.getContext("2d").clearRect(0,0,n,p);f.canvas.getContext("2d").drawImage(t,k,q,n,p,0,0,n,p);f.useData=!1;return!0}},checkSupport:function(){return Pixastic.Client.hasCanvas()}};
Pixastic.Actions.blurfast={process:function(f){var k=parseFloat(f.options.amount)||0,n=!(!f.options.clear||"false"==f.options.clear),k=Math.max(0,Math.min(5,k));if(Pixastic.Client.hasCanvas()){var p=f.options.rect,q=f.canvas.getContext("2d");q.save();q.beginPath();q.rect(p.left,p.top,p.width,p.height);q.clip();var t=Math.round(f.width/2),l=Math.round(f.height/2),x=document.createElement("canvas");x.width=t;x.height=l;for(var n=!1,k=Math.round(20*k),a=x.getContext("2d"),d=0;d<k;d++){var c=Math.max(1,
Math.round(t-d)),b=Math.max(1,Math.round(l-d));a.clearRect(0,0,t,l);a.drawImage(f.canvas,0,0,f.width,f.height,0,0,c,b);n&&q.clearRect(p.left,p.top,p.width,p.height);q.drawImage(x,0,0,c,b,0,0,f.width,f.height)}q.restore();f.useData=!1;return!0}if(Pixastic.Client.isIE())return n=10*k,f.image.style.filter+=" progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d"+n+")",f.image.style.marginLeft=(parseInt(f.image.style.marginLeft,10)||0)-Math.round(n)+"px",f.image.style.marginTop=(parseInt(f.image.style.marginTop,
10)||0)-Math.round(n)+"px",!0},checkSupport:function(){return Pixastic.Client.hasCanvas()||Pixastic.Client.isIE()}};